<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">
    <title>Document</title>
    <link rel="stylesheet" href="app.css">
    <script src="./utils.js"></script>
    <script src="./index.js"></script>
    <script>
        var dependencyConfig = {
            "create-party": {
                id: "create-party",
                type: "script",
                url: "./create-party.js"
            },
            "join-party": {
                id: "join-party",
                type: "script",
                url: "./join-party.js"
            }
        }
        AssetLoader.setDependencyConfig(dependencyConfig);
    </script>
</head>

<body>
    <div class="video-container">
        <video id="video-player" controls></video>
    </div>
    <div class="controls">
        <button id="createParty">Create Party</button>
        <button id="joinParty">Join Party</button>
        <button id="sendVideo">Send video</button>
    </div>

    <script>
        var createPartyButton = document.getElementById("createParty");
        var joinPartyButton = document.getElementById("joinParty");
        var sendVideoButton = document.getElementById("sendVideo");
        var videoPlayer = document.getElementById("video-player");

        createPartyButton.addEventListener("click", function () {
            AssetLoader.require("create-party").then(module => {
                // var partyName = prompt("Enter new party name to create","");
                createParty("navin");
                joinPartyButton.disabled = true;
                createPartyButton.disabled = true;
            });
        });

        joinPartyButton.addEventListener("click", function () {
            AssetLoader.require("join-party").then(module => {
                // var partyName = prompt("Enter party name to join");
                joinParty("navin");
                createPartyButton.disabled = true;
                joinPartyButton.disabled = true;
            });
        });

        sendVideoButton.onclick = () => {
            sendVideo();
        }
    </script>

</body>

</html>