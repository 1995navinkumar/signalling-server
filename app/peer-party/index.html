<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">
    <title>Document</title>
    <script src="./utils.js"></script>
    <script src="./index.js"></script>
    <script>
        var dependencyConfig = {
            "create-party": {
                id: "create-party",
                type: "script",
                url: "./create-party.js"
            },
            "join-party" : {
                id : "join-party",
                type : "script",
                url : "./join-party.js"
            }
        }
        AssetLoader.setDependencyConfig(dependencyConfig);
    </script>
</head>

<body>
    <button id="createParty">Create Party</button>
    <button id="joinParty">Join Party</button>
    <button id="sendVideo">Send video</button>
    <script>
        var createPartyButton = document.getElementById("createParty");
        var joinPartyButton = document.getElementById("joinParty");
        var sendVideoButton = document.getElementById("sendVideo");

        createPartyButton.addEventListener("click", function () {
            AssetLoader.require("create-party").then(module => {
                // var partyName = prompt("Enter new party name to create","");
                createParty("navin");
            });
        });

        joinPartyButton.addEventListener("click", function(){
            AssetLoader.require("join-party").then(module => {
                // var partyName = prompt("Enter party name to join");
                joinParty("navin");
            });
        });

        sendVideoButton.onclick = () => {
            sendVideo();
        }
    </script>
    <video class="video-player" controls></video>
</body>

</html>